"0",""
"0","agg <- df %>%"
"0","  group_by(Category, Segment) %>%"
"0","  summarise(Sales = sum(Sales, na.rm = TRUE), .groups = ""drop"")"
"0",""
"0","p2 <- plot_ly("
"0","  data = agg,"
"0","  x = ~Category,"
"0","  y = ~Sales,"
"0","  color = ~Segment,"
"0","  type = ""bar"""
"0",") %>%"
"0","  layout("
"0","    title = ""Sales by Category and Segment"","
"0","    barmode = ""stack"","
"0","    yaxis = list(title = ""Sales"")"
"0","  )"
"0",""
"0","p2"
