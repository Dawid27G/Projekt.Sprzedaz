"0","df <- dane %>%"
"0","  mutate("
"0","    `Order Date` = as.Date(`Order Date`),"
"0","    Sales    = as.numeric(Sales),"
"0","    Profit   = as.numeric(Profit),"
"0","    Quantity = as.numeric(Quantity),"
"0","    Discount = as.numeric(Discount),"
"0","    Category = as.character(Category),"
"0","    Segment  = as.character(Segment)"
"0","  )"
"0","m <- df %>%"
"0","  mutate(month = floor_date(`Order Date`, ""month"")) %>%"
"0","  group_by(month) %>%"
"0","  summarise("
"0","    Sales = sum(Sales, na.rm = TRUE),"
"0","    Profit = sum(Profit, na.rm = TRUE),"
"0","    .groups = ""drop"""
"0","  ) %>%"
"0","  arrange(month)"
"0",""
"0","p1 <- plot_ly(m, x = ~month) %>%"
"0","  add_lines(y = ~Sales, name = ""Sales"") %>%"
"0","  add_lines(y = ~Profit, name = ""Profit"", yaxis = ""y2"") %>%"
"0","  layout("
"0","    title = ""Sales & Profit over time (monthly)"","
"0","    xaxis = list(title = """"),"
"0","    yaxis = list(title = ""Sales""),"
"0","    yaxis2 = list(title = ""Profit"", overlaying = ""y"", side = ""right"")"
"0","  )"
"0",""
"0","p1"
